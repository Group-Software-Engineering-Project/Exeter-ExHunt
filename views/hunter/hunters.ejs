<!DOCTYPE html>
<html>
    <head>
        <title>View Created Tracks</title>
        <link rel="stylesheet" type="text/css" href="/stylesheets/hunter_styles.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    </head>

    <body style="text-align:center;background: url('/images/University_of_Exeter_hunters.jpg') no-repeat top fixed; background-size: cover;">
        <h1 class="title">Welcome Hunters</h1>
        <%  tracks.forEach(function(track){ %>
            <form action="/hunters/choose_track" method="POST">
                <input type="hidden" id="track_choose" name="track_name" value="<%=track.name %>">
                <div  class="track_div" id="<%=track.name %>" onclick="this.parentNode.submit()">
                    <h2 class="track_title"><%=track.name %></h2>
                    <p class="track_info"><b>Track Creator - <%=track.creator %></b></p>
                    <p class="track_info"><b>Track Ranking - <%=track.track_ranking %></b></p>
                    <svg viewbox="0 0 100 100">
                        <% for (i=0, len = track.number_of_challenges, y=100/(track.number_of_challenges+1); i<len; i++) { %>
                            <% if(i%2==0) { %>
                                <circle cx="25" cy="<%= y*(i+1) %>" r="2" stroke="black" stroke-width="2" />
                                <% if(i!=(track.number_of_challenges-1)) { %>
                                    <path d="m25 <%= y*(i+1) %> l50 <%= y %>" stroke="black" stroke-width="2"/>
                                <% } %>
                            <% } else { %>
                                <circle cx="75" cy="<%= y*(i+1) %>" r="2" stroke="black" stroke-width="2" />
                                <% if(i!=(track.number_of_challenges-1)) { %>
                                    <path d="m75 <%= y*(i+1) %> l-50 <%= y %>" stroke="black" stroke-width="2"/>
                                <% } %>
                            <% } %>
                        <% } %>
                    </svg>
                </div>
            </form>
        <% }) %>
    </body>
    <script src="/javascripts/hunter-click.js"></script>
</html>